import{o as j,a as z,s as M,b as u}from"./attributes.C83jfZ4t.js";import{c as O,f as T,a as h,p as k,b as D,g as t,s as l,d as c,e as I,h as $,r as q,t as x,i as A}from"./utils.BF-bo3rR.js";import{i as E}from"./if.Dj7Rl1Ca.js";import{b as v}from"./this.BlPD0caW.js";import{p as e}from"./config.Y3KO77_0.js";/* empty css                          */import"./branches.Bq-utdqE.js";var F=A('<div><div class="pio-action"></div> <canvas id="pio"></canvas></div>');function Q(P,g){D(g,!0);const w={mode:e.mode,hidden:e.hiddenOnMobile,content:e.dialog||{},model:e.models||["/pio/models/pio/model.json"]};let _=c(null),m=c(!1),r=c(void 0),d=c(void 0);function p(){if(typeof window<"u"&&typeof window.Paul_Pio<"u")try{if(t(r)&&t(d)&&!t(m)){const o=window.Paul_Pio;l(_,new o(w),!0),l(m,!0),console.log("Pio initialized successfully (Svelte)")}else(!t(r)||!t(d))&&(console.warn("Pio DOM elements not found, retrying..."),setTimeout(p,100))}catch(o){console.error("Pio initialization error:",o)}else setTimeout(p,100)}function b(){if(typeof window>"u")return;const o=(i,n)=>new Promise((s,S)=>{if(document.querySelector(`#${n}`)){s();return}const a=document.createElement("script");a.id=n,a.src=i,a.onload=()=>s(),a.onerror=S,document.head.appendChild(a)});o("/pio/static/l2d.js","pio-l2d-script").then(()=>o("/pio/static/pio.js","pio-main-script")).then(()=>{setTimeout(p,100)}).catch(i=>{console.error("Failed to load Pio scripts:",i)})}j(()=>{e.enable&&b()}),z(()=>{console.log("Pio Svelte component destroyed (keeping instance alive)")});var f=O(),y=T(f);{var C=o=>{var i=F(),n=I($(i),2);v(n,s=>l(d,s),()=>t(d)),q(i),v(i,s=>l(r,s),()=>t(r)),x(()=>{M(i,1,`pio-container ${e.position||"right"} onload-animation-up`),u(n,"width",e.width||280),u(n,"height",e.height||250)}),h(o,i)};E(y,o=>{e.enable&&o(C)})}h(P,f),k()}export{Q as default};
